/* This file NO LONGER contains layout styles (e.g., body, .gantt-form).
  Those are now handled by Tailwind CSS in index.html.
  
  This file ONLY contains styles that are dynamically
  applied by main.js to the chart, modal, and chat interface.
  It is still required for the application to look correct.
*/
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');

/* --- GANTT CHART STYLES --- */
/* These are applied by main.js when building the chart */

/* 6. Gantt Chart Container */
#gantt-chart-container {
  width: 100%;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  background-color: #ffffff;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  overflow: hidden;
  margin-top: 24px;
  font-family: 'Inter', sans-serif; /* Add font */
}

/* 7. Chart Title */
.gantt-title {
  text-align: center;
  font-size: 20px;
  font-weight: 600;
  padding: 16px;
  border-bottom: 1px solid #e0e0e0;
  color: #111827; /* Add color */
}

/* 8. Main Grid Layout */
.gantt-grid {
  display: grid;
  width: 100%;
  position: relative; /* For "Today" line */
}

/* 9. Grid Header (Weeks) */
.gantt-header {
  font-size: 12px;
  font-weight: 500;
  padding: 12px 8px;
  text-align: center;
  background-color: #f9fafb;
  border-bottom: 1px solid #e0e0e0;
  border-left: 1px solid #e0e0e0;
  color: #111827; /* Add color */
}
.gantt-header-label { /* First header cell (empty) */
  border-left: 0;
}

/* 10. Row Label (Swimlane or Task) */
.gantt-row-label {
  padding: 10px 12px;
  font-size: 13px;
  border-bottom: 1px solid #f0f0f0;
  white-space: normal; 
  overflow-wrap: break-word;
}

.gantt-row-label.swimlane {
  font-weight: 600; /* BOLD SWIMLANE */
  color: #000;
  background-color: #E5E7EB; /* Light grey swimlane background */
}

.gantt-row-label.task {
  padding-left: 24px; /* THIS is our indent */
  font-weight: 400;
  color: #333;
  border-bottom: 1px dotted #e0e0e0;
  transition: background-color 0.2s;
}

.gantt-row-label.task:hover {
  background-color: #f0f8ff; /* Light alice blue */
  cursor: pointer;
}

/* 11. Bar Area */
.gantt-bar-area {
  position: relative; 
  display: grid;
  border-left: 1px solid #e0e0e0;
  border-bottom: 1px dotted #e0e0e0;
}
.gantt-bar-area.task:hover {
  background-color: #f0f8ff;
  cursor: pointer;
}

.gantt-bar-area.swimlane {
  background-color: #E5E7EB; /* Match the label background */
  border-bottom: 1px solid #f0f0f0; /* Match label border */
}

/* Vertical grid lines */
.gantt-bar-area span[data-col] {
  border-right: 1px solid #f0f0f0;
}

/* 12. The Actual Bar */
.gantt-bar {
  position: relative;
  height: 20px;
  margin: 6px 4px; /* Vertical centering, small horizontal gap */
  border-radius: 4px;
  color: white;
  z-index: 2; 
  overflow: hidden;
  grid-row: 1; /* Always on the first (and only) row of its container */
}

/* Bar Colors */
.gantt-bar[data-color="blue"] { background-color: #008FFB; }
.gantt-bar[data-color="ochre"] { background-color: #FEB019; }
.gantt-bar[data-color="orange"] { background-color: #FF4560; }
.gantt-bar[data-color="green"] { background-color: #00E396; }
.gantt-bar[data-color="default"] { background-color: #6B7280; } /* Fallback color */

/* 13. Export Button Styling */
.export-container {
  display: flex;
  justify-content: center;
  padding: 20px 0 0 0;
  font-family: 'Inter', sans-serif;
}
.export-button {
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  background-color: #10B981; /* Green */
  border: none;
  border-radius: 6px;
  padding: 10px 20px;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: background-color 0.2s;
}
.export-button:hover {
  background-color: #059669;
}
.export-button:disabled {
  background-color: #a0aec0;
  cursor: not-allowed;
}

/* ------------------------------------------------------------------- */
/* --- "TODAY" VERTICAL LINE --- */
/* ------------------------------------------------------------------- */
.gantt-today-line {
  position: absolute;
  width: 1px; /* Thin red line */
  background-color: #FF4560; /* Red (same as 'orange' bar) */
  z-index: 3; /* Above bars (bars are z-index 2) */
  /* 'top', 'bottom', and 'left' are set by JavaScript */
}


/* ------------------------------------------------------------------- */
/* --- ANALYSIS MODAL STYLES --- */
/* These are applied by main.js when building the modal */
/* ------------------------------------------------------------------- */

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  padding: 24px;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

.modal-content {
  background-color: #ffffff;
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 700px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  color: #111827; /* Default text color */
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #e5e7eb;
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #111827;
  margin: 0;
}

.modal-close {
  font-size: 28px;
  font-weight: 300;
  color: #9ca3af;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}
.modal-close:hover {
  color: #111827;
}

.modal-body {
  padding: 24px;
  overflow-y: auto;
  color: #111827;
}

.modal-spinner {
  width: 32px;
  height: 32px;
  border: 4px solid #e5e7eb;
  border-top-color: #007bff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 40px auto;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.modal-error {
  color: #b91c1c;
  font-weight: 500;
  text-align: center;
  padding: 20px;
}

.analysis-section {
  margin-bottom: 20px;
}
.analysis-section:last-child {
  margin-bottom: 0;
}

.analysis-section h4 {
  font-size: 14px;
  font-weight: 600;
  color: #111827;
  margin-top: 0;
  margin-bottom: 8px;
  border-bottom: 1px solid #f3f4f6;
  padding-bottom: 4px;
}

.analysis-section p {
  font-size: 14px;
  color: #374151;
  line-height: 1.6;
  margin: 0;
}

.status-pill {
  display: inline-block;
  padding: 3px 10px;
  font-size: 12px;
  font-weight: 600;
  border-radius: 999px;
  text-transform: capitalize;
}
.status-pill.status-completed {
  color: #065f46;
  background-color: #d1fae5;
}
.status-pill.status-in-progress {
  color: #92400e;
  background-color: #fef3c7;
}
.status-pill.status-not-started {
  color: #991b1b;
  background-color: #fee2e2;
}
.status-pill.status-n\/a {
  color: #374151;
  background-color: #f3f4f6;
}


.analysis-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.analysis-list li {
  padding: 8px 0;
  border-bottom: 1px solid #f3f4f6;
}
.analysis-list li:last-child {
  border-bottom: 0;
}
.analysis-list li p {
  margin: 0;
  font-size: 14px;
  color: #374151;
}
.analysis-list li .source {
  font-size: 12px;
  color: #6b7280;
  font-style: italic;
}

.analysis-list li .source a {
  color: #007bff; /* Standard link blue */
  text-decoration: underline;
  cursor: pointer;
  font-style: italic; /* Maintain italic style */
}
.analysis-list li .source a:hover {
  color: #0056b3; /* Darker blue on hover */
}


/* ------------------------------------------------------------------- */
/* --- CHAT INTERFACE STYLES --- */
/* These are applied by main.js when building the modal */
/* ------------------------------------------------------------------- */

.chat-container {
  margin-top: 24px;
  border-top: 1px solid #e5e7eb;
  padding-top: 20px;
}

.chat-title {
  font-size: 14px;
  font-weight: 600;
  color: #111827;
  margin-top: 0;
  margin-bottom: 12px;
}

.chat-history {
  height: 150px;
  max-height: 150px;
  overflow-y: auto;
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  padding: 12px;
  background-color: #f9fafb;
  margin-bottom: 12px;
}

.chat-message {
  font-size: 14px;
  line-height: 1.6;
  padding: 8px 12px;
  border-radius: 8px;
  margin-bottom: 8px;
  max-width: 85%;
}
.chat-message:last-child {
  margin-bottom: 0;
}

.chat-message-user {
  background-color: #dbeafe; /* Light blue */
  color: #1e40af;
  margin-left: auto;
  text-align: right;
}

.chat-message-llm {
  background-color: #e5e7eb; /* Light grey */
  color: #374151;
  margin-right: auto;
  text-align: left;
}

.chat-spinner {
  width: 16px;
  height: 16px;
  border: 2px solid #a0aec0;
  border-top-color: #374151;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  display: inline-block; 
}

.chat-form {
  display: flex;
  gap: 8px;
}

.chat-input {
  flex-grow: 1;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  padding: 8px 12px;
  color: #111827; /* Ensure text input is the right color */
}

.chat-send-btn {
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  background-color: #007bff;
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  cursor: pointer;
  transition: background-color 0.2s;
}
.chat-send-btn:hover {
  background-color: #0056b3;
}